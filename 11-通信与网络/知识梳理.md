# 通信与网络 知识梳理

## 通信/信息论等基础知识

+ 网络的分层结构：(从低到高)物理层→链路层→网络层→传输层→会话层→表示层→应用层
+ 通信中的基本问题：
	- 通信的资源：功率、带宽等
	- 通信的失真：噪声、干扰、衰落等因素影响
+ 离散随机变量信息度量：
	- 熵
		* 底为2：单位是比特
		* 底为e：单位是奈特
		* 底为10：单位是哈特
	- 熵的应用：
		* 信源编码：通过信息的有效表示，提高通信的有效性
		* Huffman编码：达到最小平均长度的序列
	- 熵、联合熵、条件熵：链式法则
	- 互信息：
		* 理解一：通过观测Y带来的帮助了解X的信息
		* 理解二：通过观测X带来的帮助了解Y的信息
+ 连续随机变量的熵：
	- 微分熵：衡量不同连续分布的相对不确定性
	- 给定**峰值约束**，达到最大微分熵的分布是：均匀分布
	- 给定**方差约束**，达到最大微分熵的分布是：正态分布
+ 信息传输的优化
	- 目标：最大化发送端和接收端的互信息
	- 方法：定义信道容量，最大化信道容量
	- 信道编码过程：使**输入符号的分布匹配最大互信息**的过程
+ 带限高斯信道：
	- 带限高斯信道的容量：

	![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/01.png?token=AYGNCP_lDVR6mP34UiAGGkuGBiyVkm1Lks5Zq_4LwA%3D%3D)

	- 低信噪比近似：
	C = 1.44×P/n_0，其中n_0是加性白高斯噪声单边谱密度
		* 容量随功率线性增加
		* 给定功率，增大带宽可以达到低信噪比情况，获得最大功率效率

## 压缩编码理论

+ 无损压缩：数据通信
+ 有损压缩：语音、图像等多媒体信源
+ 压缩编码：
	- 能无失真恢复连续信号
	- 抽样数量越少越好
+ 带通抽样定理
+ 量化：将连续幅值离散化
	- 均匀量化(有界随机变量)
	- 非均匀量化
	- 量化噪声 = 正常量化噪声 + 过载噪声
		* 正常量化噪声与信号分布无关
		* 过载噪声与分布有关
+ 最优量化：量化区间总数确定时，最小化量化噪声
	- 分层电平在重建电平的中点
	- 重建电平在量化区间的质心
	- 迭代算法
+ 语音编码：
	- 将人类语音信号转化为数字序列
	- 人类语音信号：300-3400Hz
	- 幅值分布：拉普拉斯分布，特点：信号功率小，动态范围大
	- 语音信号压缩关键步骤：抽样→量化→压缩
	- 语音信号量化：
		* 均匀量化：量化噪声过大
		* 解决思路：非均匀量化，并且注意过载噪声和普通量化噪声的折中
	- 语音信号瞬时压扩：
		* 编码时取对数：压缩
		* 解码时取指数：扩张
	- 对数量化：
		* A律：分段函数，欧洲提出，我国采用
		* μ律：美国提出
	- 脉冲编码调制PCM：
		* 输出码率为64kbps
		* 采样频率8000Hz
		* 增量调制：
			+ 对原始信号求增量
			+ 对收端重构信号求增量
			+ 增量调制抗信道误码能力很强，适合战场通信
		* 过载：增量调制对于变化过快的信号会产生过载
			+ 增加抽样率
			+ 增加增量幅度
		* 自适应压扩：
			+ 信号变换缓慢，采用小的增量
			+ 信号变换剧烈，采用大的增量
	- 其他压缩编码方式：

	![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/02.png?token=AYGNCMs_qYAaR5XWJLAQ2rq8z9eHxzauks5Zq_4MwA%3D%3D)

## 数字基带传输

#### 1. 数字基带调制概论
+ 为什么要基带调制？
	- 传输信道需要
		* 信道只能传输连续波形，需要把数字序列转换成连续波形
	- 多址和复用需要
		* 只能传输有限带宽的信号

#### 2. 通信波形

1. 符号映射：比特的物理承载
	+ 可行符号的集合
	+ 比特承载量：每个符号最多可对应log2(|A|)个比特
	+ 幅度键控/脉冲幅度调制/相位键控/正交幅度调制
	+ 邻位最小差错映射：格雷码
	+ 符号周期：传输一个符号需要的平均时间Ts
	+ 符号速率：单位时间传输的符号数
	+ 比特速率：单位时间传输的比特数
2. 数字调制：符号的波形加载
	+ 通信系统只能传输连续波形
	+ 通信信号带宽受限
3. Nyquist准则：
	+ 消除符号间串扰：将带限脉冲的频谱分别平移n/Ts(n为任意整数)其叠加的结果对任意频率恒为定值，则ISI为0
4. 通信速率与带宽效率：
	+ 考虑带宽为W的一般低通脉冲
	+ 符号周期最小为1/(2W)，符号速率最大为2W，受限于带宽

	![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/03.png?token=AYGNCFVDJZ5PV7xu_CP-Th6q-9JcrELMks5Zq_4OwA%3D%3D)

	+ 单位带宽承载之速率：

	![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/04.png?token=AYGNCKOPiaewHJ63bNvZyWNAdKl2-gbqks5Zq_4QwA%3D%3D)

5. 升余弦滤波器
	+ 滚降系数：α = 2WTs - 1
	+ 带宽效率：单位带宽上获得的比特速率
6. 通信信号的功率谱计算
	+ 简单情况：
		* 无记忆
		* 不同符号波形一致
	
	+ ![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/05.png?token=AYGNCDUpcX7KbcRVxjSd_gFQCOG2Rtieks5Zq_4TwA%3D%3D)


#### 3. 最佳接收
+ 数字基带传输系统
	- 基带调制后，接收到的波形存在随机的失真，对解调造成困难
	- 系统的考察指标：信噪比和误码率
		* **最佳接收**：在给定发射功率下提高信噪比
		* **最佳判决**：在给定信噪比下降低误码率
+ 传送一个符号
	- 直接抽样：
		* 关键是找准抽样位置
		* 没有信噪比增益，接收信号质量随噪声功率的增加而变差
	- 能量累积：积分后再抽样
		* 在抽样前直接积分一下，噪声会正负抵消一部分，信号始终累积
	- 匹配思想：
		* 对接收值进行加权线性累加，最大化抽样时刻信号功率对噪声功率的比值
		* 矩形脉冲使用平权相加，但对于任意脉冲应当加权
		* 瞬时功率大，给予较大加权；瞬时功率小，给予较小加权
		* 优化目标：最大化信噪比

			+ ![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/06.png?token=AYGNCPIi2-_jZONGgsXz_t4dyl1CAgkEks5ZrWXLwA%3D%3D)

			+ 方法一：柯西施瓦兹不等式
			+ 方法二：带约束优化问题
		* 匹配滤波器的冲激响应：

		![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/07.png?token=AYGNCJA1FFE1AMpMfjRsBVlUrsHgsgV-ks5ZrWXNwA%3D%3D)

		* 匹配滤波的频域解释：柯西施瓦兹不等式
+ 相干与匹配
	- 相干解调：
		* 噪声中3/4的功率搬到了高频，相当于噪声损失了6dB
		* 信号与载波相干，只有1/2的功率搬到高频，相当于损失3dB
		* 相干解调信噪比增益最大为**2**(双边带调制可以达到)
		* 代价：带宽增大一倍
	- 匹配滤波信噪比增益的来源
		* 噪声对消
		* 信号**相干叠加**
+ 匹配滤波增益：
	- Eb和Es分别表示每bit能量和每符号能量
	- n0表示噪声密度(单位：焦耳)

	![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/08.png?token=AYGNCMyRmydTbBnssQdNxVBRaXrOW5zqks5ZrWXPwA%3D%3D)

	![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/09.png?token=AYGNCMq2koC8MeKQaP-mwMMbUz9rYMkWks5ZrWXRwA%3D%3D)

	- 信噪比最大的隐含条件：理想低通形成基带脉冲，即Sa函数
	- 举例：升余弦滤波

		* ![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/10.png?token=AYGNCOX1Yq-Qzi7rtAgQQ-1HqBRZSSPQks5ZrWXTwA%3D%3D)

		* 单纯由于匹配思想导致的信噪比增益为：1+α
+ 传输一串符号的无ISI条件：
	- 根号Nyquist准则，实际工程中就是这样


#### 4. 判决与差错
+ 最大后验概率准则MAP
+ 最大似然准则ML：通信信号等概率选择时，MAP等效为ML
+ 等效为最小距离准则
+ 双极性码判决门限：
	- 偶数个元素：符号在奇数，门限在偶数
	- 奇数个元素：符号在偶数，门限在奇数
+ 单极性码判决门限：
	- 符号在偶，门限在奇
+ 双极性二元符号的差错率：Q(A/σ)=Q(\sqrt{S/N})
	- 符号差错概率的统计结果成为误符号率
	- Q(x)是减函数，误符号率随A(符号在实轴上的距离)的增大而减小，随噪声标准差σ的增大而增大
+ 误符号率的计算思路：
	1. 确定符号的分布
	2. 画出符号之间的判决门限
	3. 计算各符号的差错概率，用A/σ表示
	4. 计算符号距离A和平均功率的关系(级数求和)
	5. 用信号比S/N表示A/σ代入表达式
+ 常见误符号率的计算结果
	- 单极性二元码误符号率：

	![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/11.png?token=AYGNCHK-dUDKwak8IRU9ec7NEt-evrpTks5ZrWXVwA%3D%3D)

	- 双极性二元码误符号率：奇数和偶数结果相同

	![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/14.png?token=AYGNCKYsz2bcGppt6Wk7GpD2cIveBaJuks5ZrWXcwA%3D%3D)

	- 双极性M元码误符号率：奇数和偶数结果相同

	![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/12.png?token=AYGNCIyrtk8iFpbRg4Rx2lyMyPI9PDb5ks5ZrWXYwA%3D%3D)

	- 单极性M元码：

	![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/13.png?token=AYGNCJl30DgBEB9-DYjWyV_XGNku0i6qks5ZrWXawA%3D%3D)

	- 单极性码(相对于双极性码)损失6dB的信噪比
+ 从误符号率到误比特率：
	
	![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/15.png?token=AYGNCK5TXtPmyyb15FEdjm5Oq_pyJfvhks5ZrWXewA%3D%3D)


## 数字载波传输

#### 5. 为什么需要载波传输？
+ 从物理实现的角度：
	- 为了有效辐射电磁能量
	- 不同频率上的电磁波传输特性不同
+ 从多址接入和复用的角度：
	- 使不同频率的电磁信号互不干扰


#### 6. 载波传输的方法

+ 数字信息的加载--调制
	- 控制载波变化传递数字信息
+ 数字信息的提取--解调
	- 从被噪声污染的信号中恢复信息
+ 常见的载波调制与解调方法：
	- 幅度键控ASK：频谱形状主要由基带信号决定
		* 2ASK基带码型为**单极性非归零码**
		* 调制举例：二进制幅度键控OOK
		* 解调：
			+ 能量检测方法：非相干解调
			+ 接收信号与载波同频同相的信 相乘：相干解调
	- 相移键控PSK：
		* BPSK基带码型为**双极性非归零码**
		* 解调：
			+ 不能非相干解调
			+ 相干解调：接收信号×本地载波
			+ 与ASK不同：对解调信号判决门限不同
		* MPSK：
	- 频移键控FSK：
		* 通过数字序列控制载波频率
		* 有多个载频，但是幅度是恒定的
		* 调制：不同频率的载波 & 选择载波的设备
		* 解调：
			+ 非相干解调：分别检测两个频率的能量
			+ 相干解调：分别与对应载波相乘，再通过低通滤波
		* FSK的载波频率不相同，因此不能用星座图表示
	- 小结：
		* 以上三种调制方式的优点：实现简单/分析简单
		* 缺点：信息传输速率无法随信噪比提高而提高
			+ 解决方法：提高传输功率、降低噪声功率密度
+ 脉冲幅度调制PAM：
	- 控制脉冲的幅度，随着符号集合的增大，每个符号携带的信息量也增大
	- 若符号取值集合有M个符号，则成为M进制调制
	- 与2ASK、BPSK区别：符号集合不同，需要进行**符号选择**
	- 非相干解调：能量检测，但需要多个判决门限
	- 相干解调：同样需要多个判决门限
	- 改进：符号集合元素的值可正可负
		* 不能再用非相干解调，因为对称位置的符号具有相同能量
+ MPSK：
	- MPSK星座图：幅角在[0,2π]之间均匀分布
		* 星座点对称，不存在边界点优势
		* 信号功率易于计算，差错概率难算
		* 与PAM比较：
			+ MPSK可以同时利用I、Q两路正交通道
			+ 同样的峰值和平均功率约束下，可以在星座图平面放下更多的符号
	- MPSK误符号率：

		![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/16.png?token=AYGNCJUCue5dxydm5sW_CizxHJqrURi4ks5ZrWXhwA%3D%3D)

+ 正交幅度调制QAM：
	- 利用载波的正交性，同时传输两路信号从而提高传输速率
	- I路信息提取：乘以同相载波cos，Q路只剩下高频分量，低通后可以滤除
	- Q路信息提取：乘以铜线载波sin，I路只剩下高频分量，低通后可以滤除

+ MQAM：

	- 误符号率：

	![image](https://raw.githubusercontent.com/charlesliucn/summer-review/master/11-%E9%80%9A%E4%BF%A1%E4%B8%8E%E7%BD%91%E7%BB%9C/figures/17.png?token=AYGNCJ_klcGNTLvEUUitWUggv0wY_Fmaks5ZrWXjwA%3D%3D)

	- MQAM可以看成两路正交的MPAM

#### 7. 有记忆调制与数字频率调制
+ 什么是有记忆调制？
	- 一个码元周期的波形由多个不同的码元联合决定
+ 为什么要有记忆调制？
	1. 频谱成型，从而适应信道的传输特性
	2. 差分相干解调，从而克服载波相位模糊
+ 常见的有记忆调制：
	- 2DPSK：
		* 数字序列是在BPSK原始数字信息基础上差分得到
		* 解调时需要再做一次差分
	- 连续相位调制CPM
+ **小结**：
	- 各类调制方式的区别在于：
		* 调制时：电平的选择
		* 解调时：符号的选择